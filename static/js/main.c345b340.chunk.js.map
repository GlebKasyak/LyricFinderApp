{"version":3,"sources":["constants/const.js","context.jsx","components/layout/Navbar/Navbar.jsx","components/layout/Spinner/Spinner.jsx","components/layout/Spinner/index.js","components/Tracks/Track/Track.jsx","components/Tracks/index.js","components/Tracks/Tracks.jsx","components/Tracks/Search/Search.jsx","components/layout/Index/Index.jsx","components/Tracks/Lyrics/index.js","components/Tracks/Lyrics/Lyrics.jsx","App.js","index.js"],"names":["REACT_APP_KEY","REACT_APP_URL","CORS_ANYWHERE","Context","React","createContext","reducer","state","action","type","track_list","payload","heading","Provider","dispatch","setState","axios","get","then","res","data","message","body","catch","error","console","log","value","this","props","children","Component","Consumer","Navbar","className","Spinner","Track","track","artist_name","track_name","album_name","to","track_id","Tracks","undefined","length","map","item","key","Search","trackTitle","onChange","e","target","findTrack","preventDefault","onSubmit","placeholder","name","Index","Lyrics","lyrics","params","match","id","Object","keys","lyrics_body","album_id","primary_genres","music_genre_list","music_genre","music_genre_name","explicit","format","updated_time","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c345b340.chunk.js","sourcesContent":["export const HOME_PAGE = \"/\";\r\n\r\nexport const REACT_APP_KEY = \"d80087bebab83986c784cfa988076301\";\r\n\r\nconst CORS_ANYWHERE = \"https://cors-anywhere.herokuapp.com/\";\r\nconst ROOT_URL = \"https://api.musixmatch.com/ws/1.1/\";\r\n\r\nexport const REACT_APP_URL = CORS_ANYWHERE + ROOT_URL;","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { REACT_APP_KEY, REACT_APP_URL } from \"./constants/const\";\r\n\r\nconst Context = React.createContext(null);\r\n\r\nconst reducer = (state, action) => {\r\n    switch(action.type){\r\n        case \"SEARCH_TRACKS\":\r\n            return {\r\n                ...state,\r\n                track_list: action.payload,\r\n                heading: \"Search Results\"\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport class Provider extends React.Component {\r\n    state = {\r\n        track_list: [],\r\n        heading: \"Top 10 tracks\",\r\n        dispatch: action => this.setState(state => reducer(state, action))\r\n    };\r\n\r\n    componentDidMount() {\r\n        axios.get(`${REACT_APP_URL}chart.tracks.get?page=$1&page_size=10&country=us&f_has_lyrics=1&apikey=${ REACT_APP_KEY }`)\r\n            .then(res => {\r\n                this.setState({track_list: res.data.message.body.track_list})\r\n            })\r\n            .catch(error => console.log(error))\r\n    };\r\n\r\n    render() {\r\n        /*оборачивает все компоненты*/\r\n        return (\r\n            <Context.Provider value={this.state}>\r\n                {this.props.children}\r\n            </Context.Provider>\r\n        )\r\n    }\r\n}\r\n\r\nexport const Consumer = Context.Consumer;","import React from \"react\";\r\n\r\nexport const Navbar = () => (\r\n    <nav className=\"navbar navbar-dark bg-dark mb-5\">\r\n        <span className=\"navbar-brand mb-0 mx-auto\">LyricFinder</span>\r\n    </nav>\r\n);","import React from \"react\";\r\n\r\nconst Spinner = () => (\r\n    <div className=\"search-loading\">\r\n        <div/><div/><div/><div/><div/><div/>\r\n        <div/><div/><div/><div/><div/><div/>\r\n    </div>\r\n);\r\n\r\nexport default Spinner;","import Spinner from \"./Spinner.jsx\";\r\nimport \"./style.css\";\r\n\r\nexport default Spinner;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Track = ( props ) => {\r\n\r\n    const { track } = props;\r\n\r\n    return (\r\n        <div className=\"col-md-6\">\r\n            <div className=\"card mb-4 shadow-sm\">\r\n                <div className=\"card-body\">\r\n                    <h5 className=\"card-title\" >{track.artist_name}</h5>\r\n                    <p className=\"card-text\">\r\n                        <strong>\r\n                            <i className=\"fas fa-play\" /> Track\r\n                        </strong>\r\n                        : {track.track_name}\r\n                        <br />\r\n                        <strong>\r\n                            <i className=\"fas fa-compact-disc\" /> Album\r\n                        </strong>\r\n                        : {track.album_name}\r\n                    </p>\r\n                    <Link\r\n                        to={`lyrics/track/${track.track_id}`}\r\n                        className=\"btn btn-dark btn-block\"\r\n                    >\r\n                        <i className=\"fas fa-chevron-right\" /> View Lyrics\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};","import Tracks from \"./Tracks.jsx\";\r\n\r\nexport default Tracks;","import React from \"react\";\r\nimport { Consumer } from \"../../context\";\r\nimport Spinner from \"./../layout/Spinner\";\r\nimport { Track } from \"./Track\";\r\n\r\nconst Tracks = () => (\r\n\r\n    <Consumer>\r\n        {value => {\r\n            const { track_list, heading } = value;\r\n\r\n            if(track_list === undefined || track_list.length === 0) {\r\n                return <Spinner />\r\n            } else {\r\n                return (\r\n                    <>\r\n                        <h3 className=\"text-center mb-4\">{heading}</h3>\r\n                        <div className=\"row\">\r\n                            {track_list.map(item => (\r\n                                <Track key={item.track.track_id} track={item.track}/>\r\n                            ))}\r\n                        </div>\r\n                    </>\r\n                )\r\n            }\r\n        }}\r\n    </Consumer>\r\n\r\n);\r\n\r\nexport default Tracks;","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport {REACT_APP_KEY, REACT_APP_URL} from \"../../../constants/const\";\r\n\r\nimport { Consumer } from \"../../../context\";\r\n\r\n\r\nexport class Search extends React.Component {\r\n    state = {\r\n        trackTitle: \"\"\r\n    };\r\n\r\n    onChange = (e) => {\r\n       this.setState({trackTitle: e.target.value})\r\n    };\r\n\r\n    findTrack = (dispatch, e) => {\r\n        e.preventDefault();\r\n\r\n        axios.get(`${ REACT_APP_URL }track.search?q_artist=${ this.state.trackTitle }&page_size=3&page=1&s_track_rating=desc&apikey=${ REACT_APP_KEY }`)\r\n            .then(res => {\r\n                dispatch({\r\n                    type: \"SEARCH_TRACKS\",\r\n                    payload: res.data.message.body.track_list\r\n                })\r\n            })\r\n            .catch(error => console.log(error))\r\n    };\r\n\r\n\r\n    render() {\r\n        return(\r\n            <Consumer >\r\n                {value => {\r\n                    const { dispatch } = value;\r\n                    return (\r\n                        <div className=\"card card-body mb-4 p-4\">\r\n                            <h1 className=\"display-6 text-center\">\r\n                                <i className=\"fas fa-music\" /> Search For A Song\r\n                            </h1>\r\n                            <p className=\"load text-center\">\r\n                                Get the lyrics for any song\r\n                            </p>\r\n                            <form onSubmit={(e) => this.findTrack(dispatch, e)}>\r\n                                <div className=\"form-group\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control form-control-lg\"\r\n                                        placeholder=\"Song title...\"\r\n                                        name=\"trackTitle\"\r\n                                        value={this.state.trackTitle}\r\n                                        onChange={this.onChange}\r\n                                    />\r\n                                </div>\r\n                                <button className=\"btn btn-primary btn-lg btn-block mb-2\">\r\n                                    Get Track Lyrics\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n                    )\r\n                }}\r\n            </Consumer>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport Tracks from \"./../../Tracks\";\r\nimport { Search } from \"../../Tracks/Search\";\r\n\r\nexport const Index = () => (\r\n        <>\r\n            <Search />\r\n            <Tracks />\r\n        </>\r\n);","import Lyrics from \"./Lyrics.jsx\";\r\n\r\nexport default Lyrics;","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { HOME_PAGE, REACT_APP_KEY, REACT_APP_URL } from \"../../../constants/const\";\r\nimport Moment from \"react-moment\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nimport Spinner from \"../../layout/Spinner\";\r\n\r\nclass Lyrics extends React.Component {\r\n    state = {\r\n        //для отдельного ,выбранного компонента\r\n        track: {},\r\n        lyrics: {}\r\n    };\r\n\r\n    componentDidMount() {\r\n        //меняются урлы.документация API\r\n        const { params } = this.props.match;\r\n\r\n        axios.get(`${ REACT_APP_URL }track.lyrics.get?track_id=${ params.id }&apikey=${ REACT_APP_KEY }`)\r\n            .then(res => {\r\n                this.setState({lyrics: res.data.message.body.lyrics});\r\n\r\n                return axios.get(`${ REACT_APP_URL }track.get?track_id=${ params.id }&apikey=${ REACT_APP_KEY }`);\r\n            })\r\n            .then(res => {\r\n                this.setState({track: res.data.message.body.track});\r\n            })\r\n            .catch(error => console.log( error ))\r\n    }\r\n\r\n    render() {\r\n\r\n        const { track, lyrics } = this.state;\r\n\r\n        if(\r\n            track === undefined ||\r\n            lyrics === undefined ||\r\n            Object.keys( track ).length === 0 ||\r\n            Object.keys( lyrics ).length === 0\r\n        ) {\r\n            return <Spinner />\r\n        } else {\r\n            return (\r\n                <>\r\n                    <Link to={ HOME_PAGE } className=\"btn btn-dark btn-sm mb-4\">\r\n                        Go Back\r\n                    </Link>\r\n                    <div className=\"card\">\r\n                        <h5 className=\"card-header\">\r\n                            { track.track_name } by {\" \"}\r\n                            <span className=\"text-secondary\">{ track.artist_name }</span>\r\n                        </h5>\r\n                        <div className=\"card-body\">\r\n                            <p className=\"card-text\">\r\n                                { lyrics.lyrics_body }\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <ul className=\"list-group mt-3\">\r\n                        <li className=\"list-group-item\">\r\n                            <strong>Album ID</strong>: { track.album_id }\r\n                        </li>\r\n                        <li className=\"list-group-item\">\r\n                            <strong>Song Genre</strong>: {\" \"}\r\n                            {\r\n                                track.primary_genres.music_genre_list[0]\r\n                                    .music_genre.music_genre_name\r\n                            }\r\n                        </li>\r\n                        <li className=\"list-group-item\">\r\n                            <strong>Explicit Words</strong>: {track.explicit === 0 ? \"No\" : \"Yes\"}\r\n                        </li>\r\n                        <li className=\"list-group-item\">\r\n                            <strong>Release Date</strong>: {\" \"}\r\n                            <Moment format=\"MM/DD/YYYY\">{track.updated_time}</Moment>\r\n                        </li>\r\n                    </ul>\r\n                </>\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default Lyrics;","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { HOME_PAGE } from \"./constants/const\";\r\n\r\nimport { Provider } from \"./context.jsx\"\r\nimport { Navbar } from \"./components/layout/Navbar\";\r\nimport { Index } from \"./components/layout/Index\";\r\nimport Lyrics from \"./components/Tracks/Lyrics\";\r\n\r\n\r\nconst App = () => (\r\n      <Provider>\r\n        <Router >\r\n            <>\r\n                <Navbar />\r\n                <div className=\"container\">\r\n                    <Switch >\r\n                        <Route exact path={ HOME_PAGE } component={ Index } />\r\n                        <Route path=\"/lyrics/track/:id\" component={ Lyrics } />\r\n                    </Switch>\r\n                </div>\r\n            </>\r\n        </Router>\r\n      </Provider>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}